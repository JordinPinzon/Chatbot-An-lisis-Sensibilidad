{"ast":null,"code":"import React,{useState}from'react';import{Routes,Route,Link}from'react-router-dom';import ChatPage from'./pages/ChatPage';import ComparePage from'./pages/ComparePage';import ChatbotIcon from'./assets/Chatbot.png';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[chatbotResponse,setChatbotResponse]=useState('');const[cleanResponse,setCleanResponse]=useState('');const[historial,setHistorial]=useState({casoEstudio:'',respuestaIA:'',respuestaUsuario:''});const handleDescargarPDF=async()=>{try{const payload={caso_estudio:historial.casoEstudio,respuesta_ia:historial.respuestaIA,respuesta_usuario:historial.respuestaUsuario,comparacion:'Generado desde App'};const res=await axios.post('http://localhost:5000/descargar_pdf',payload,{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download','informe_auditoria.pdf');document.body.appendChild(link);link.click();document.body.removeChild(link);setHistorial({casoEstudio:'',respuestaIA:'',respuestaUsuario:''});setChatbotResponse('');setCleanResponse('');}catch(err){alert('‚ùå Error al descargar el PDF.');console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"w-64 bg-gray-800 text-white p-6 flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 rounded-full bg-white shadow-lg overflow-hidden flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:ChatbotIcon,alt:\"Chatbot Auditor Icon\",className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-center text-white\",children:\"Chatbot Auditor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col gap-4 mt-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/chat\",className:\"text-left hover:bg-gray-700 px-4 py-2 rounded bg-gray-700 font-bold\",children:\"\\uD83E\\uDD16 Chatbot\"}),/*#__PURE__*/_jsx(Link,{to:\"/comparar\",className:\"text-left hover:bg-gray-700 px-4 py-2 rounded\",children:\"\\uD83D\\uDCCA Comparar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDescargarPDF,className:\"text-left hover:bg-gray-700 px-4 py-2 rounded\",children:\"\\uD83D\\uDCE5 Descargar PDF\"})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-y-auto p-6 bg-gray-100\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:/*#__PURE__*/_jsx(ChatPage,{setChatbotResponse:setChatbotResponse,setCleanResponse:setCleanResponse,historial:historial,setHistorial:setHistorial})}),/*#__PURE__*/_jsx(Route,{path:\"/comparar\",element:/*#__PURE__*/_jsx(ComparePage,{chatbotResponse:chatbotResponse,cleanChatbotResponse:cleanResponse,historial:historial,setHistorial:setHistorial})})]})})]});}","map":{"version":3,"names":["React","useState","Routes","Route","Link","ChatPage","ComparePage","ChatbotIcon","axios","jsx","_jsx","jsxs","_jsxs","App","chatbotResponse","setChatbotResponse","cleanResponse","setCleanResponse","historial","setHistorial","casoEstudio","respuestaIA","respuestaUsuario","handleDescargarPDF","payload","caso_estudio","respuesta_ia","respuesta_usuario","comparacion","res","post","responseType","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","err","alert","console","error","className","children","src","alt","to","onClick","path","element","cleanChatbotResponse"],"sources":["C:/Users/ASUS/Documents/Legislacion_Inform√°tica/Chatbot-Legislacion/Frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Routes, Route, Link } from 'react-router-dom';\r\nimport ChatPage from './pages/ChatPage';\r\nimport ComparePage from './pages/ComparePage';\r\nimport ChatbotIcon from './assets/Chatbot.png';\r\nimport axios from 'axios';\r\n\r\nexport default function App() {\r\n  const [chatbotResponse, setChatbotResponse] = useState('');\r\n  const [cleanResponse, setCleanResponse] = useState('');\r\n\r\n  const [historial, setHistorial] = useState({\r\n    casoEstudio: '',\r\n    respuestaIA: '',\r\n    respuestaUsuario: '',\r\n  });\r\n\r\n  const handleDescargarPDF = async () => {\r\n    try {\r\n      const payload = {\r\n        caso_estudio: historial.casoEstudio,\r\n        respuesta_ia: historial.respuestaIA,\r\n        respuesta_usuario: historial.respuestaUsuario,\r\n        comparacion: 'Generado desde App',\r\n      };\r\n\r\n      const res = await axios.post('http://localhost:5000/descargar_pdf', payload, {\r\n        responseType: 'blob',\r\n      });\r\n\r\n      const url = window.URL.createObjectURL(new Blob([res.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'informe_auditoria.pdf');\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n\r\n      setHistorial({\r\n        casoEstudio: '',\r\n        respuestaIA: '',\r\n        respuestaUsuario: '',\r\n      });\r\n      setChatbotResponse('');\r\n      setCleanResponse('');\r\n    } catch (err) {\r\n      alert('‚ùå Error al descargar el PDF.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 bg-gray-800 text-white p-6 flex flex-col items-center gap-6\">\r\n        <div className=\"w-24 h-24 rounded-full bg-white shadow-lg overflow-hidden flex items-center justify-center\">\r\n          <img\r\n            src={ChatbotIcon}\r\n            alt=\"Chatbot Auditor Icon\"\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n        </div>\r\n\r\n        <p className=\"text-sm font-semibold text-center text-white\">Chatbot Auditor</p>\r\n\r\n        <div className=\"w-full flex flex-col gap-4 mt-4\">\r\n          <Link\r\n            to=\"/chat\"\r\n            className=\"text-left hover:bg-gray-700 px-4 py-2 rounded bg-gray-700 font-bold\"\r\n          >\r\n            ü§ñ Chatbot\r\n          </Link>\r\n\r\n          <Link\r\n            to=\"/comparar\"\r\n            className=\"text-left hover:bg-gray-700 px-4 py-2 rounded\"\r\n          >\r\n            üìä Comparar\r\n          </Link>\r\n\r\n          <button\r\n            onClick={handleDescargarPDF}\r\n            className=\"text-left hover:bg-gray-700 px-4 py-2 rounded\"\r\n          >\r\n            üì• Descargar PDF\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 overflow-y-auto p-6 bg-gray-100\">\r\n        <Routes>\r\n          <Route\r\n            path=\"/chat\"\r\n            element={\r\n              <ChatPage\r\n                setChatbotResponse={setChatbotResponse}\r\n                setCleanResponse={setCleanResponse}\r\n                historial={historial}\r\n                setHistorial={setHistorial}\r\n              />\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/comparar\"\r\n            element={\r\n              <ComparePage\r\n                chatbotResponse={chatbotResponse}\r\n                cleanChatbotResponse={cleanResponse}\r\n                historial={historial}\r\n                setHistorial={setHistorial}\r\n              />\r\n            }\r\n          />\r\n        </Routes>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}