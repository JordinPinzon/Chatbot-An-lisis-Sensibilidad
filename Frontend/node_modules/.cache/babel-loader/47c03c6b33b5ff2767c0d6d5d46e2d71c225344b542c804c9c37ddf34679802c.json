{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";// ✅ Componente auxiliar para los selects\nfunction SelectField(_ref){let{label,value,onChange,options}=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-gray-700 font-medium mb-1\",children:[label,\":\"]}),/*#__PURE__*/_jsx(\"select\",{value:value,onChange:e=>onChange(e.target.value),className:\"w-full p-2 border border-gray-300 rounded-md\",children:options.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},opt))})]});}function stripHtml(html){const doc=new DOMParser().parseFromString(html,'text/html');return doc.body.textContent||'';}export default function ChatPage(_ref2){let{setChatbotResponse,setCleanResponse,historial,setHistorial}=_ref2;const[casoEstudio,setCasoEstudio]=useState(historial.casoEstudio||'');const[loading,setLoading]=useState(false);const[pdfFile,setPdfFile]=useState(null);const[response,setResponse]=useState('');const[message,setMessage]=useState('');const paises=['Ecuador','México','Colombia','Argentina','España'];const sectores=['Salud','Educación','Automotriz','Alimentos','Tecnología'];const tiposEmpresa=['Pública','Privada','ONG','Startup'];const tamanosEmpresa=['Microempresa','Pequeña','Mediana','Grande'];const[pais,setPais]=useState(paises[0]);const[sector,setSector]=useState(sectores[0]);const[tipoEmpresa,setTipoEmpresa]=useState(tiposEmpresa[0]);const[tamanoEmpresa,setTamanoEmpresa]=useState(tamanosEmpresa[0]);const handleSend=async()=>{setLoading(true);try{const res=await axios.post('http://localhost:5000/chat',{message});const reply=res.data.respuesta||res.data.error;setResponse(reply);setChatbotResponse(reply);setCleanResponse(stripHtml(reply));setHistorial(prev=>({...prev,respuestaIA:reply}));setCasoEstudio('');}catch{const errorMsg='❌ Error al enviar la solicitud.';setResponse(errorMsg);setChatbotResponse(errorMsg);}setLoading(false);};const handleGenerateCase=async()=>{setLoading(true);try{const casoRes=await axios.post('http://localhost:5000/generar_caso',{pais,sector,tipo_empresa:tipoEmpresa,tamano_empresa:tamanoEmpresa});const casoTexto=casoRes.data.caso_estudio||casoRes.data.error;setCasoEstudio(casoTexto);if(!casoTexto||casoTexto.startsWith('❌')){setResponse(casoTexto);setChatbotResponse(casoTexto);setLoading(false);return;}const analisisRes=await axios.post('http://localhost:5000/chat',{message:casoTexto});const analisisTexto=analisisRes.data.respuesta||analisisRes.data.error;setResponse(analisisTexto);setChatbotResponse(analisisTexto);setCleanResponse(stripHtml(analisisTexto));setHistorial(prev=>({...prev,casoEstudio:casoTexto,respuestaIA:analisisTexto}));}catch{const errorMsg='❌ Error al generar o analizar el caso de estudio.';setResponse(errorMsg);setChatbotResponse(errorMsg);}setLoading(false);};const handleUploadPdf=async e=>{e.preventDefault();if(!pdfFile)return;const formData=new FormData();formData.append(\"pdf\",pdfFile);setLoading(true);try{const res=await axios.post(\"http://localhost:5000/analizar_pdf\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});const{texto_extraido,respuesta}=res.data;setCasoEstudio(texto_extraido);setResponse(respuesta);setChatbotResponse(respuesta);setCleanResponse(stripHtml(respuesta));setHistorial(prev=>({...prev,casoEstudio:texto_extraido,respuestaIA:respuesta}));}catch{const errorMsg='❌ Error al analizar el PDF.';setResponse(errorMsg);setChatbotResponse(errorMsg);}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen p-6\",style:{backgroundColor:'#EDE8D0'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-black text-3xl font-bold mb-6\",children:\"Chatbot ISO 9001\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-semibold mb-2\",children:\"Mensaje:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Escribe tu mensaje...\",className:\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",rows:4}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center gap-4 mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:loading,className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md\",children:loading?\"Enviando...\":\"Enviar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"pdf\",accept:\".pdf\",onChange:e=>{var _e$target$files;return setPdfFile(((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0])||null);},className:\"text-sm text-gray-700\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleUploadPdf,disabled:!pdfFile||loading,className:\"w-32 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-md transition duration-300\",children:\"Analizar PDF\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4 text-gray-800\",children:\"\\uD83C\\uDFAF Generar Caso de Estudio con Filtros\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsx(SelectField,{label:\"Pa\\xEDs\",value:pais,onChange:setPais,options:paises}),/*#__PURE__*/_jsx(SelectField,{label:\"Sector\",value:sector,onChange:setSector,options:sectores}),/*#__PURE__*/_jsx(SelectField,{label:\"Tipo de Empresa\",value:tipoEmpresa,onChange:setTipoEmpresa,options:tiposEmpresa}),/*#__PURE__*/_jsx(SelectField,{label:\"Tama\\xF1o de Empresa\",value:tamanoEmpresa,onChange:setTamanoEmpresa,options:tamanosEmpresa})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateCase,disabled:loading,className:\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-md\",children:loading?'Generando...':'Generar caso de estudio'})]}),casoEstudio&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2 text-gray-800\",children:\"\\uD83D\\uDCD8 Caso de Estudio:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-blue-50 border border-blue-200 rounded-md text-gray-700\",dangerouslySetInnerHTML:{__html:casoEstudio}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2 text-gray-800\",children:\"\\uD83E\\uDDE0 Respuesta (An\\xE1lisis IA):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-100 border border-gray-300 rounded-md whitespace-pre-line text-gray-700\",style:{overflowY:'visible',maxHeight:'none'},dangerouslySetInnerHTML:{__html:response}})]})]});}","map":{"version":3,"names":["React","useState","axios","jsxs","_jsxs","jsx","_jsx","SelectField","_ref","label","value","onChange","options","children","className","e","target","map","opt","stripHtml","html","doc","DOMParser","parseFromString","body","textContent","ChatPage","_ref2","setChatbotResponse","setCleanResponse","historial","setHistorial","casoEstudio","setCasoEstudio","loading","setLoading","pdfFile","setPdfFile","response","setResponse","message","setMessage","paises","sectores","tiposEmpresa","tamanosEmpresa","pais","setPais","sector","setSector","tipoEmpresa","setTipoEmpresa","tamanoEmpresa","setTamanoEmpresa","handleSend","res","post","reply","data","respuesta","error","prev","respuestaIA","errorMsg","handleGenerateCase","casoRes","tipo_empresa","tamano_empresa","casoTexto","caso_estudio","startsWith","analisisRes","analisisTexto","handleUploadPdf","preventDefault","formData","FormData","append","headers","texto_extraido","style","backgroundColor","placeholder","rows","onClick","disabled","type","name","accept","_e$target$files","files","dangerouslySetInnerHTML","__html","overflowY","maxHeight"],"sources":["C:/Users/ASUS/Documents/Legislacion_Informática/Chatbot_Legislacion/Frontend/src/pages/ChatPage.tsx"],"sourcesContent":["import React, { useState, FormEvent } from 'react';\r\nimport axios from 'axios';\r\n\r\ninterface ChatPageProps {\r\n  setChatbotResponse: (text: string) => void;\r\n  setCleanResponse: (text: string) => void; // 👈 NUEVO\r\n  historial: {\r\n    casoEstudio: string;\r\n    respuestaIA: string;\r\n    respuestaUsuario: string;\r\n  };\r\n  setHistorial: React.Dispatch<React.SetStateAction<{\r\n    casoEstudio: string;\r\n    respuestaIA: string;\r\n    respuestaUsuario: string;\r\n  }>>;\r\n}\r\n\r\n// ✅ Componente auxiliar para los selects\r\nfunction SelectField({\r\n  label,\r\n  value,\r\n  onChange,\r\n  options\r\n}: {\r\n  label: string;\r\n  value: string;\r\n  onChange: (val: string) => void;\r\n  options: string[];\r\n}) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-gray-700 font-medium mb-1\">{label}:</label>\r\n      <select\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        className=\"w-full p-2 border border-gray-300 rounded-md\"\r\n      >\r\n        {options.map(opt => (\r\n          <option key={opt} value={opt}>{opt}</option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction stripHtml(html: string): string {\r\n  const doc = new DOMParser().parseFromString(html, 'text/html');\r\n  return doc.body.textContent || '';\r\n}\r\n\r\nexport default function ChatPage({ setChatbotResponse, setCleanResponse, historial, setHistorial }: ChatPageProps) {\r\n  const [casoEstudio, setCasoEstudio] = useState(historial.casoEstudio || '');\r\n  const [loading, setLoading] = useState(false);\r\n  const [pdfFile, setPdfFile] = useState<File | null>(null);\r\n  const [response, setResponse] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n\r\n  const paises = ['Ecuador', 'México', 'Colombia', 'Argentina', 'España'];\r\n  const sectores = ['Salud', 'Educación', 'Automotriz', 'Alimentos', 'Tecnología'];\r\n  const tiposEmpresa = ['Pública', 'Privada', 'ONG', 'Startup'];\r\n  const tamanosEmpresa = ['Microempresa', 'Pequeña', 'Mediana', 'Grande'];\r\n\r\n  const [pais, setPais] = useState(paises[0]);\r\n  const [sector, setSector] = useState(sectores[0]);\r\n  const [tipoEmpresa, setTipoEmpresa] = useState(tiposEmpresa[0]);\r\n  const [tamanoEmpresa, setTamanoEmpresa] = useState(tamanosEmpresa[0]);\r\n\r\n  const handleSend = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/chat', { message });\r\n      const reply = res.data.respuesta || res.data.error;\r\n      setResponse(reply);\r\n      setChatbotResponse(reply);\r\n      setCleanResponse(stripHtml(reply));\r\n      setHistorial(prev => ({ ...prev, respuestaIA: reply }));\r\n      setCasoEstudio('');\r\n    } catch {\r\n      const errorMsg = '❌ Error al enviar la solicitud.';\r\n      setResponse(errorMsg);\r\n      setChatbotResponse(errorMsg);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleGenerateCase = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const casoRes = await axios.post('http://localhost:5000/generar_caso', {\r\n        pais, sector,\r\n        tipo_empresa: tipoEmpresa,\r\n        tamano_empresa: tamanoEmpresa\r\n      });\r\n\r\n      const casoTexto = casoRes.data.caso_estudio || casoRes.data.error;\r\n      setCasoEstudio(casoTexto);\r\n\r\n      if (!casoTexto || casoTexto.startsWith('❌')) {\r\n        setResponse(casoTexto);\r\n        setChatbotResponse(casoTexto);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const analisisRes = await axios.post('http://localhost:5000/chat', { message: casoTexto });\r\n      const analisisTexto = analisisRes.data.respuesta || analisisRes.data.error;\r\n\r\n      setResponse(analisisTexto);\r\n      setChatbotResponse(analisisTexto);\r\n      setCleanResponse(stripHtml(analisisTexto));\r\n      setHistorial(prev => ({\r\n        ...prev,\r\n        casoEstudio: casoTexto,\r\n        respuestaIA: analisisTexto,\r\n      }));\r\n\r\n    } catch {\r\n      const errorMsg = '❌ Error al generar o analizar el caso de estudio.';\r\n      setResponse(errorMsg);\r\n      setChatbotResponse(errorMsg);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleUploadPdf = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    if (!pdfFile) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"pdf\", pdfFile);\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post(\"http://localhost:5000/analizar_pdf\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n\r\n      const { texto_extraido, respuesta } = res.data;\r\n      setCasoEstudio(texto_extraido);\r\n      setResponse(respuesta);\r\n      setChatbotResponse(respuesta);\r\n      setCleanResponse(stripHtml(respuesta));\r\n      setHistorial(prev => ({\r\n        ...prev,\r\n        casoEstudio: texto_extraido,\r\n        respuestaIA: respuesta\r\n      }));\r\n    } catch {\r\n      const errorMsg = '❌ Error al analizar el PDF.';\r\n      setResponse(errorMsg);\r\n      setChatbotResponse(errorMsg);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen p-6\" style={{ backgroundColor: '#EDE8D0' }}>\r\n      <div className=\"text-center text-black text-3xl font-bold mb-6\">Chatbot ISO 9001</div>\r\n\r\n      {/* Chat y PDF */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n        <label className=\"block text-gray-700 font-semibold mb-2\">Mensaje:</label>\r\n        <textarea\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          placeholder=\"Escribe tu mensaje...\"\r\n          className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          rows={4}\r\n        />\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center gap-4 mt-4\">\r\n          <button\r\n            onClick={handleSend}\r\n            disabled={loading}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md\"\r\n          >\r\n            {loading ? \"Enviando...\" : \"Enviar\"}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-2 mt-4\">\r\n          <input\r\n            type=\"file\"\r\n            name=\"pdf\"\r\n            accept=\".pdf\"\r\n            onChange={(e) => setPdfFile(e.target.files?.[0] || null)}\r\n            className=\"text-sm text-gray-700\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleUploadPdf}\r\n            disabled={!pdfFile || loading}\r\n            className=\"w-32 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-md transition duration-300\"\r\n          >\r\n            Analizar PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n        <h2 className=\"text-2xl font-semibold mb-4 text-gray-800\">🎯 Generar Caso de Estudio con Filtros</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <SelectField label=\"País\" value={pais} onChange={setPais} options={paises} />\r\n          <SelectField label=\"Sector\" value={sector} onChange={setSector} options={sectores} />\r\n          <SelectField label=\"Tipo de Empresa\" value={tipoEmpresa} onChange={setTipoEmpresa} options={tiposEmpresa} />\r\n          <SelectField label=\"Tamaño de Empresa\" value={tamanoEmpresa} onChange={setTamanoEmpresa} options={tamanosEmpresa} />\r\n        </div>\r\n        <button\r\n          onClick={handleGenerateCase}\r\n          disabled={loading}\r\n          className=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-md\"\r\n        >\r\n          {loading ? 'Generando...' : 'Generar caso de estudio'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Resultados */}\r\n      {casoEstudio && (\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n          <h2 className=\"text-xl font-semibold mb-2 text-gray-800\">📘 Caso de Estudio:</h2>\r\n        <div\r\n          className=\"p-4 bg-blue-50 border border-blue-200 rounded-md text-gray-700\"\r\n          dangerouslySetInnerHTML={{ __html: casoEstudio }}\r\n        />\r\n        </div>\r\n      )}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-2 text-gray-800\">🧠 Respuesta (Análisis IA):</h2>\r\n      <div\r\n  className=\"p-4 bg-gray-100 border border-gray-300 rounded-md whitespace-pre-line text-gray-700\"\r\n  style={{ overflowY: 'visible', maxHeight: 'none' }}\r\n  dangerouslySetInnerHTML={{ __html: response }}\r\n      />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}